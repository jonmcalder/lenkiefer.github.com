geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)))+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="none",legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=3)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="none",legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="none",legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="none",legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="none",legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="none",legend.direction="horizontal")+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="none",legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="top",legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
theme(legend.position="top",legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent,begin=.20)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent,end=.8)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)))+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent,end=0.8)+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
labs(x="", y="",
title="30-year Fixed Mortgage Rate (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.\nStrip at bottom shows weekly rate as percent of 52-week min/max (0% at min, 100% at max).",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("1972-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(02.5,20))
#brocks::htmlwidgets_deps(a)
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position="bottom",legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent,end=.8)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position="bottom",legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as % of min/max\n0% at min, 100% at max",
direction=-1,label=percent,end=.8)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position="bottom",legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as % of min/max\n0% at min, 100% at max  ",
direction=-1,label=percent,end=.8)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic"))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
#brocks::htmlwidgets_deps(a)
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position="bottom",legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as % of min/max\n0% at min, 100% at max  ",
direction=-1,label=percent,end=.8)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic",size=10))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position="bottom",legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as % of min/max\n0% at min, 100% at max  ",
direction=-1,label=percent,end=.8)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic",size=9))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position="bottom",legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as % of min/max\n0% at min, 100% at max  ",
direction=-1,label=percent,end=.8)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic",size=6))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
theme(legend.position="bottom",legend.direction="horizontal")+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)),size=2)+
scale_color_viridis(name="Rate as % of min/max\n0% at min, 100% at max  ",
direction=-1,label=percent,end=.8)+
labs(x="", y="",
title="30-year Fixed Mortgage Rate in 2016 (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic",size=8))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("2016-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(3.4,4.2))
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)))+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent,end=0.8)+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
labs(x="", y="",
title="30-year fixed mortgage rate (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.\nStrip at bottom shows weekly rate as percent of 52-week min/max (0% at min, 100% at max).",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic",size=8))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("1972-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(02.5,20))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="bl",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)))+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent,end=0.8)+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
labs(x="", y="",
title="30-year fixed mortgage rate (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.\nStrip at bottom shows weekly rate as percent of 52-week min/max (0% at min, 100% at max).",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic",size=8))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("1972-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(02.5,20))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="br",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)))+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent,end=0.8)+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
labs(x="", y="",
title="30-year fixed mortgage rate (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.\nStrip at bottom shows weekly rate as percent of 52-week min/max (0% at min, 100% at max).",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic",size=8))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("1972-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(02.5,20))
ggplot(data=pmms30yr,aes(x=date,y=rate))+
geom_ribbon(aes(ymin=rup,ymax=rate),fill=viridis(10)[2],alpha=0.6)+
geom_ribbon(aes(ymin=rdown,ymax=rate),fill=viridis(10)[8],alpha=0.6)+
geom_line(size=1.05)+
theme_minimal()+
geom_rug(sides="b",aes(color=(rate-rmin.52)/(rmax.52-rmin.52)))+
scale_color_viridis(name="Rate as %\nof min/max\n0% at min,\n50%=halfway,\n100% at max",
direction=-1,label=percent,end=0.8)+
theme(legend.position=c(0.22,0.15),legend.direction="horizontal")+
labs(x="", y="",
title="30-year fixed mortgage rate (%)",
subtitle="Shaded area 52-week trailing min/max, purple from 52-week min to current, green from current to 52-week max.\nStrip at bottom shows weekly rate as percent of 52-week min/max (0% at min, 100% at max).",
caption="@lenkiefer Source: Freddie Mac Primary Mortgage Market Survey")+
theme(plot.title=element_text(size=16),
plot.subtitle=element_text(face="italic",size=8))+
theme(plot.caption=element_text(hjust=0))+
theme(plot.margin=unit(c(0.25,0.25,0.25,0.25),"cm"))+
scale_x_date(limits=c(as.Date("1972-01-01"),as.Date("2016-12-08")))+
coord_cartesian(ylim=c(02.5,20))
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
rm(cmap.all)
rm(cmap)
rm(d.metro)
rm(d.state)
rm(hpi.dt)
rm(popDF)
rm(popDF.i)
rm(rhip)
rm(rhpi)
rm(shareDF)
rm(shareDF.i)
rm(smap)
rm(smap.all)
rm(tf)
