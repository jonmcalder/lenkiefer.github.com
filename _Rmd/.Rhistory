subtitle="Distribution of metro population per housing unit\n(300 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year==2016 & cbsa>0 & mid<=300],
aes(x=pop/hous,#y=factor(year),
weight=pop,color=pop/hous,group=factor(year)))+
geom_quasirandom(alpha=0.5)+
geom_density()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(300 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year==2016 & cbsa>0 & mid<=300],
aes(x=pop/hous,#y=factor(year),
weight=pop,color=pop/hous))+
#geom_quasirandom(alpha=0.5)+
geom_density()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(300 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year==2016 & cbsa>0 & mid<=300],
aes(x=pop/hous,#y=factor(year),
weight=pop,color=pop/hous))+
#geom_quasirandom(alpha=0.5)+
geom_density()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(300 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year==2016 & cbsa>0 & mid<=300],
aes(x=pop/hous,#y=factor(year),
weight=pop,color=pop/hous))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(300 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2010,2016) & cbsa>0 & mid<=300],
aes(x=pop/hous,y=factor(year),
weight=pop,color=pop/hous))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(300 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2010,2016) & cbsa>0 & mid<=300],
aes(x=pop/hous,y=factor(year),
weight=pop,color=pop/hous))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(300 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=name,
weight=pop,color=pop/hous))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(300 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,text=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text()+
scale_color_viridis()+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text(hjust=0)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
#  scale_y_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2,3),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.1,3.1),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.05,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.15,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of metro population per housing unit\n(20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.15,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
geom_vline(xintercept=2.381,linetype=2,color="darkgray")+
#facet_wrap(~name)+
labs(x="Population per Housing Unit in 2016",y="",title="How many people per hosuing unit?",
subtitle="Distribution of metro population per housing unit (20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
geom_text(x=2.381,y=20,label="U.S. = 2.38")
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.15,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
geom_vline(xintercept=2.381,linetype=2,color="darkgray")+
#facet_wrap(~name)+
labs(x="Population per Housing Unit in 2016",y="",title="How many people per hosuing unit?",
subtitle="Distribution of metro population per housing unit (20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
geom_text(x=2.381,y=20,label="U.S. = 2.38")+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.15,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
geom_vline(xintercept=2.381,linetype=2,color="darkgray")+
#facet_wrap(~name)+
labs(x="Population per Housing Unit in 2016",y="",title="How many people per hosuing unit?",
subtitle="Distribution of metro population per housing unit (20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
geom_text(x=2.39,y=20,label="U.S. = 2.38",color="darkgray",hjust=0)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.15,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
geom_vline(xintercept=2.381,linetype=2,color="darkgray")+
#facet_wrap(~name)+
labs(x="Population per Housing Unit in 2016",y="",title="How many people per hosuing unit?",
subtitle="Distribution of metro population per housing unit (20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
geom_text(x=2.39,y=20,label="U.S. = 2.38",color="black",hjust=0)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.15,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
geom_vline(xintercept=2.381,linetype=2,color="darkgray")+
#facet_wrap(~name)+
labs(x="Population per Housing Unit in 2016",y="",title="How many people per hosuing unit?",
subtitle="Distribution of metro population per housing unit (20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
geom_text(x=2.39,y=20,label="U.S. = 2.38",color="black",hjust=0)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.15,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
geom_vline(xintercept=2.381,linetype=2,color="darkgray")+
#facet_wrap(~name)+
labs(x="Population per Housing Unit in 2016",y="",title="How many people per housing unit in 2016?",
subtitle="Distribution of metro population per housing unit (20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[year %in% c(2016) & cbsa>0 & mid<=20],
aes(x=pop/hous,y=reorder(name,pop/hous),
weight=pop,color=pop/hous,label=name))+
geom_quasirandom(alpha=0.5,size=3)+
geom_text(x=2.39,y=20,label="U.S. = 2.38",color="black",hjust=0)+
#geom_density()+
geom_text(hjust=0,nudge_x=0.01)+
scale_color_viridis(end=0.85)+
#geom_boxplot(fill="gray")+
scale_x_continuous(limits=c(2.15,3.15),breaks=seq(2.1,3.1,.1))+
theme_minimal()+
theme(legend.position="none",
axis.text.y=element_blank(),
panel.grid.major.y=element_blank(),
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
geom_vline(xintercept=2.381,linetype=2,color="darkgray")+
#facet_wrap(~name)+
labs(x="Population per Housing Unit in 2016",y="",title="How many people per housing unit in 2016?",
subtitle="Distribution of metro population per housing unit (20 largest metros)",
caption="@lenkiefer Source: U.S. Census Bureau")
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
df6[year %in% c(2015) & cbsa>0 & mid<=20]
View(df6[year %in% c(2015) & cbsa>0 & mid<=20])
ggplot(data=filter(df5,pop>1e4),
aes(y=pop/hous,x=factor(year),weight=pop))+
#geom_path(alpha=0.5)+geom_point(alpha=0.5)+
geom_boxplot(fill="gray")+
scale_y_continuous(limits=c(2.2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
#facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Distribution of county population per housing unit\n(counties with population of at least 10,000, weighted by population)",
caption="@lenkiefer Source: U.S. Census Bureau, July of each year")
ggplot(data=df6[ cbsa>0 & mid<=9],
aes(y=pop/hous,x=year,color=name,group=name))+
geom_path()+geom_point()+
scale_y_continuous(limits=c(2.2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Metro population per housing unit, July of each year",
caption="@lenkiefer Source: U.S. Census Bureau")
ggplot(data=df6[ cbsa>0 & mid<=12],
aes(y=pop/hous,x=year,color=name,group=name))+
geom_path()+geom_point()+
scale_y_continuous(limits=c(2.2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Metro population per housing unit, July of each year",
caption="@lenkiefer Source: U.S. Census Bureau")
ggplot(data=df6[ cbsa>0 & mid<=16],
aes(y=pop/hous,x=year,color=name,group=name))+
geom_path()+geom_point()+
scale_y_continuous(limits=c(2.2,3),breaks=seq(2,3,.2))+
theme_minimal()+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
facet_wrap(~name)+
labs(x="",y="",title="Population increasing faster than housing supply",
subtitle="Metro population per housing unit, July of each year",
caption="@lenkiefer Source: U.S. Census Bureau")
lm(data=df7[mid<=100,] ,hpi~dr)
stargazer::stargazer(reg,out="html")
reg<-lm(data=df7[mid<=100,] ,hpi~dr)
stargazer::stargazer(reg,out="html")
ggplot(df7[mid<=100,],aes(x=dr,y=hpi))+
geom_point(size=3,alpha=0.5)+
theme_minimal()+
stat_smooth(method="lm",fill=NA,color="black",linetype=2)+
#geom_point(data=df7[mid<=5,],size=4,alpha=0.95,color="#4575b4")+
# ggrepel::geom_text_repel(data=df7[mid<=5,],fontface="bold",color="#4575b4")+
scale_y_continuous(labels=percent)+
#scale_x_continuous(labels=percent)+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
labs(x="Change in population/housing unit ratio: 2010-2016",
y="Percent change in house prices: 2010-2016",
title="Metros where population grew faster than housing supply tended to experience greater house price appreciation",
subtitle="Each dot a metro area (top 100 metros by population)",
caption="@lenkiefer Source: U.S. Census, Freddie Mac House Price Index, July of each year")
reg<-lm(data=df7[mid<=100,] ,hpi~dr)
stargazer::stargazer(reg,out="html")
rego<-stargazer::stargazer(reg,out="html")
rego
print(rego)
ggplot(df7[mid<=100,],aes(x=dr,y=hpi))+
geom_point(size=3,alpha=0.5)+
theme_minimal()+
stat_smooth(method="lm",fill=NA,color="black",linetype=2)+
#geom_point(data=df7[mid<=5,],size=4,alpha=0.95,color="#4575b4")+
# ggrepel::geom_text_repel(data=df7[mid<=5,],fontface="bold",color="#4575b4")+
scale_y_continuous(labels=percent)+
#scale_x_continuous(labels=percent)+
theme(legend.position="none",
strip.text=element_text(size=7),
plot.caption=element_text(hjust=0))+
labs(x="Change in population/housing unit ratio: 2010-2016",
y="Percent change in house prices: 2010-2016",
title="Metros where population grew faster than housing supply tended to experience greater house price appreciation",
subtitle="Each dot a metro area (top 100 metros by population)",
caption="@lenkiefer Source: U.S. Census, Freddie Mac House Price Index, July of each year")
reg<-lm(data=df7[mid<=100,] ,hpi~dr)
rego<-stargazer::stargazer(reg,out="html")
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
KnitPost(site.path="C:/Users/Leonard/Documents/webpage/live/lenkiefer.github.com/", overwriteAll=T, overwriteOne=NULL)
?stargazer
knitr::kable(summary(reg))
summary(reg)
